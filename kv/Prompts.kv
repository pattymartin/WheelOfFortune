#:import data_caching data_caching
#:import strings strings
<SavePuzzlePrompt>
	cat_input: cat_input
	clue_input: clue_input
	title: strings.title_save_puzzle
	BoxLayout:
		orientation: 'vertical'
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: 0.25
			Label:
				text: strings.label_category
				size_hint_x: None
				valign: 'center'
				halign: 'center'
			TabCyclable:
				id: cat_input
				multiline: False
				prev_widget: clue_input
				next_widget: clue_input
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: 0.25
			Label:
				text: strings.label_clue
				size_hint_x: None
				valign: 'center'
				halign: 'center'
			TabCyclable:
				id: clue_input
				multiline: False
				prev_widget: cat_input
				next_widget: cat_input
		Widget:
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: 0.25
			Button:
				text: strings.button_close
				on_release: root.dismiss()
			Button:
				text: strings.button_save
				on_release: root.input_save()
<ManagerSettingsPrompt>:
	vowel_input: vowel_input
	min_input: min_input
	wedges_input: wedges_input
	cash_values: data_caching.get_variables()
	title: strings.mgr_title_settings
	BoxLayout:
		orientation: 'vertical'
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: 0.25
			Label:
				text: strings.label_vowel_price
				size_hint_x: None
				valign: 'center'
				halign: 'center'
			TabCyclable:
				id: vowel_input
				text: str(root.cash_values.get('vowel_price', ''))
				hint_text: strings.input_vowel_price
				multiline: False
				prev_widget: wedges_input
				next_widget: min_input
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: 0.25
			Label:
				text: strings.label_min_win
				size_hint_x: None
				valign: 'center'
				halign: 'center'
			TabCyclable:
				id: min_input
				text: str(root.cash_values.get('min_win', ''))
				hint_text: strings.input_min_win
				multiline: False
				prev_widget: vowel_input
				next_widget: wedges_input
		BoxLayout:
			orientation: 'horizontal'
			BoxLayout:
				orientation: 'vertical'
				size_hint_x: None
				Label:
					text: strings.label_wedges
					valign: 'center'
					halign: 'center'
				Button:
					text: strings.button_edit_hotkeys
					size_hint_y: 0.25
					on_release: root.edit_hotkeys()
			TabCyclable:
				id: wedges_input
				text:
					'\r\n'.join([str(i) for i in root.cash_values.get('cash_values', [])])
				hint_text: strings.input_cash_values
				prev_widget: min_input
				next_widget: vowel_input
		Widget:
			size_hint_y: 0.02
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: 0.25
			Button:
				text: strings.button_close
				on_release: root.dismiss()
			Button:
				text: strings.button_confirm
				on_release: root.input_save()
<EditHotkeysPrompt>:
	hotkey_select_1: hotkey_select_1
	hotkey_select_2: hotkey_select_2
	hotkey_select_3: hotkey_select_3
	hotkey_select_next: hotkey_select_next
	hotkey_select_puzzle: hotkey_select_puzzle
	hotkey_clear_puzzle: hotkey_clear_puzzle
	hotkey_start_tossup: hotkey_start_tossup
	hotkey_solve: hotkey_solve
	hotkey_lose_turn: hotkey_lose_turn
	hotkey_bankrupt: hotkey_bankrupt
	hotkey_bank_score: hotkey_bank_score
	BoxLayout:
		orientation: 'vertical'
		BoxLayout:
			orientation: 'vertical'
			Widget:
				size_hint_y: None
				height: 20
			Label:
				text: strings.label_edit_hotkey_info
				size_hint_y: None
				size: self.texture_size
			Widget:
				size_hint_y: None
				height: 20
			ScrollView:
				BoxLayout:
					id: hotkey_layout
					orientation: 'vertical'
					size_hint_y: None
					height: self.minimum_height
					HotkeyLayout:
						id: hotkey_select_1
						description: strings.label_hotkey_select_1
						name: 'select_1'
					HotkeyLayout:
						id: hotkey_select_2
						description: strings.label_hotkey_select_2
						name: 'select_2'
					HotkeyLayout:
						id: hotkey_select_3
						description: strings.label_hotkey_select_3
						name: 'select_3'
					HotkeyLayout:
						id: hotkey_select_next
						description: strings.label_hotkey_select_next
						name: 'select_next'
					HotkeyLayout:
						id: hotkey_select_puzzle
						description: strings.label_hotkey_select_puzzle
						name: 'select_puzzle'
					HotkeyLayout:
						id: hotkey_clear_puzzle
						description: strings.label_hotkey_clear_puzzle
						name: 'clear_puzzle'
					HotkeyLayout:
						id: hotkey_start_tossup
						description: strings.label_hotkey_start_tossup
						name: 'start_tossup'
					HotkeyLayout:
						id: hotkey_solve
						description: strings.label_hotkey_solve
						name: 'solve'
					HotkeyLayout:
						id: hotkey_lose_turn
						description: strings.label_hotkey_lose_turn
						name: 'lose_turn'
					HotkeyLayout:
						id: hotkey_bankrupt
						description: strings.label_hotkey_bankrupt
						name: 'bankrupt'
					HotkeyLayout:
						id: hotkey_bank_score
						description: strings.label_hotkey_bank_score
						name: 'bank_score'
			Widget:
				size_hint_y: None
				height: 5
		Button:
			text: strings.button_confirm
			size_hint_y: 0.25
			on_release: root.confirm()
<HotkeyLayout@BoxLayout>
	description: ''
	name: ''
	hotkey_text_label: hotkey_text_label
	warning_icon: warning_icon
	orientation: 'vertical'
	size_hint_y: None
	height: 30
	BoxLayout:
		orientation: 'horizontal'
		Label:
			text: root.description
			size_hint_x: 1/3
			text_size: self.size
			halign: 'right'
			valign: 'center'
			padding_x: 5
		BoxLayout:
			orientation: 'horizontal'
			canvas.before:
				Color:
					rgba: 1, 1, 1, 1
				Rectangle:
					pos: self.pos
					size: self.size
			RecordHotkeyLabel:
				id: hotkey_text_label
				name: root.name
			Image:
				id: warning_icon
				source: strings.file_alert_icon
				color: (1, 1, 1, 0)
				size_hint: (None, 1)
				width: self.height
		Button:
			text: strings.button_default
			on_release: hotkey_text_label.default()
			size_hint_x: 0.2
	Widget:
		size_hint_y: 0.2
<RecordHotkeyLabel>:
	name: ''
	color: 0, 0, 0, 1
	text_size: self.size
	halign: 'left'
	valign: 'center'
	padding_x: 5
<FileChooserIconView>
    # on_selection doesn't seem to work in python
    select_callback: None
    on_selection: self.select_callback() if self.select_callback else None
<YesNoPrompt>
    id: yes_no_prompt
    text_label: scroll_label.text_label
    button_no: button_no
    button_yes: button_yes
    BoxLayout:
        orientation: 'vertical'
        ScrollableLabel:
            id: scroll_label
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.25
            Button:
                id: button_no
                text: strings.button_no
            Button:
                id: button_yes
                text: strings.button_yes
<InfoPrompt>:
    id: info_prompt
    text_label: scroll_label.text_label
    BoxLayout:
        orientation: 'vertical'
        ScrollableLabel:
            id: scroll_label
        Button:
            text: strings.button_ok
            size_hint_y: 0.25
            on_release: info_prompt.dismiss()
<ScrollableLabel@AnchorLayout>:
    text_label: text_label
    BoxLayout:
        orientation: 'vertical'
        Widget:
            size_hint_y: 0.1
        ScrollView:
            size_hint_max_y: text_layout.height
            BoxLayout:
                id: text_layout
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                Label:
                    id: text_label
                    size_hint_y: None
                    size: self.texture_size
        Widget:
            size_hint_y: 0.1